{
  "swagger": "2.0",
  "info": {
    "version": "1.1.0.0",
    "title": "AISware FED--API",
    "termsOfService": "https://10.13.6.103:8989/fed"
  },
  "host": "10.19.90.31:8182",
  "basePath": "/aiSquare/openApi/model",
  "tags": [
    {
      "name": "model-watching-controller",
      "description": "Model Watching Controller"
    },
    {
      "name": "train-model-api-action-controller",
      "description": "Train Model Api Action Controller"
    }
  ],
  "paths": {
    "/trainModel/download": {
      "get": {
        "tags": [
          "TrainModelDownloadInfo"
        ],
        "summary": "模型下载",
        "description": "模型下载 ",
        "operationId": "trainModelDownload",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "jobId",
            "in": "query",
            "description": "训练模型下载请求信息对象",
            "required": false,
            "type": "string",
            "allowEmptyValue": false
          }
        ],
        "responses": {
          "200": {
            "description": "模型下载",
            "schema": {
              "$ref": "#/definitions/TrainModelInfo"
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          }
        },
        "deprecated": false
      }
    },
    "/trainModel/trainModelVersion": {
      "get": {
        "tags": [
          "trainModelAction"
        ],
        "summary": "获取模型及版本信息列表",
        "description": "获取模型及版本信息列表 ",
        "operationId": "getTrainModelVersionAction",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "fateModelId",
            "in": "query",
            "description": "FATE模型id",
            "required": false,
            "type": "string",
            "allowEmptyValue": false
          },
          {
            "name": "id",
            "in": "query",
            "description": "模型id",
            "required": false,
            "type": "string",
            "allowEmptyValue": false
          },
          {
            "name": "modelName",
            "in": "query",
            "description": "模型名称",
            "required": false,
            "type": "string",
            "allowEmptyValue": false
          },
          {
            "name": "modelVersionCode",
            "in": "query",
            "description": "模型版本",
            "required": false,
            "type": "string",
            "allowEmptyValue": false
          }
        ],
        "responses": {
          "200": {
            "description": "模型及版本信息列表",
            "schema": {
              "$ref": "#/definitions/TrainModelInfo"
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          }
        },
        "deprecated": false
      },
      "post": {
        "tags": [
          "trainModelAction"
        ],
        "summary": "创建模型",
        "description": "创建模型 ",
        "operationId": "createTrainModel",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "trainModelWithTaskRequest",
            "description": "模型对象",
            "required": true,
            "schema": {
              "$ref": "#/definitions/TrainModelWithTaskRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "operate success",
            "schema": {
              "$ref": "#/definitions/OperateResult"
            }
          },
          "201": {
            "description": "Created"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          }
        },
        "deprecated": false
      }
    },
    "/trainModel/trainModelVersion/watching": {
      "get": {
        "tags": [
          "modelWatching"
        ],
        "summary": "收藏模型列表",
        "description": "收藏模型列表 ",
        "operationId": "getWatchingModel",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "keyword",
            "in": "query",
            "description": "模型名称",
            "required": false,
            "type": "string",
            "allowEmptyValue": false
          },
          {
            "name": "limit",
            "in": "query",
            "description": "条数",
            "required": false,
            "type": "integer",
            "format": "int32",
            "allowEmptyValue": false
          },
          {
            "name": "offset",
            "in": "query",
            "description": "页面偏移量",
            "required": false,
            "type": "integer",
            "format": "int32",
            "allowEmptyValue": false
          }
        ],
        "responses": {
          "200": {
            "description": "收藏模型列表",
            "schema": {
              "$ref": "#/definitions/TrainModelInfo"
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          }
        },
        "deprecated": false
      }
    },
    "/trainModel/trainModelVersion/{id}": {
      "get": {
        "tags": [
          "trainModelAction"
        ],
        "summary": "根据模型id获取模型及版本信息",
        "description": "根据模型id获取模型及版本信息 ",
        "operationId": "getTrainModelVersionAction_1",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "模型id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "模型及版本信息列表",
            "schema": {
              "$ref": "#/definitions/TrainModelInfo"
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          }
        },
        "deprecated": false
      }
    },
    "/trainModel/trainModelVersion/{modelVersionId}/watching": {
      "post": {
        "tags": [
          "modelWatching"
        ],
        "summary": "收藏模型",
        "description": "收藏模型 ",
        "operationId": "watchingModel",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "modelVersionId",
            "in": "path",
            "description": "模型id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "operate success",
            "schema": {
              "$ref": "#/definitions/OperateResult"
            }
          },
          "201": {
            "description": "Created"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          }
        },
        "deprecated": false
      },
      "delete": {
        "tags": [
          "modelWatching"
        ],
        "summary": "取消收藏模型",
        "description": "取消收藏模型 ",
        "operationId": "cancelWatchingModel",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "modelVersionId",
            "in": "path",
            "description": "模型id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "operate success",
            "schema": {
              "$ref": "#/definitions/OperateResult"
            }
          },
          "204": {
            "description": "No Content"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "deprecated": false
      }
    },
    "/trainModel/{trainModelId}": {
      "patch": {
        "tags": [
          "trainModel"
        ],
        "summary": "修改模型",
        "description": "修改模型 ",
        "operationId": "patchTrainModel",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "trainModelId",
            "in": "path",
            "description": "模型id",
            "required": false,
            "type": "string"
          },
          {
            "in": "body",
            "name": "updateTrainModelWithTaskRequest",
            "description": "模型名称",
            "required": false,
            "schema": {
              "$ref": "#/definitions/UpdateTrainModelWithTaskRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "operate success",
            "schema": {
              "$ref": "#/definitions/OperateResult"
            }
          },
          "204": {
            "description": "No Content"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "deprecated": false
      }
    },
    "/trainModel/{trainModelId}/trainModelVersion": {
      "delete": {
        "tags": [
          "trainModel"
        ],
        "summary": "删除模型",
        "description": "删除模型 ",
        "operationId": "deleteTrainModel",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "trainModelId",
            "in": "path",
            "description": "模型id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "operate success",
            "schema": {
              "$ref": "#/definitions/OperateResult"
            }
          },
          "204": {
            "description": "No Content"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "deprecated": false
      }
    },
    "/trainModelVersion/{trainModelVersionId}": {
      "delete": {
        "tags": [
          "trainModel"
        ],
        "summary": "删除模型版本",
        "description": "删除模型版本 ",
        "operationId": "deleteTrainModelVersion",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "trainModelVersionId",
            "in": "path",
            "description": "模型版本id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "operate success",
            "schema": {
              "$ref": "#/definitions/OperateResult"
            }
          },
          "204": {
            "description": "No Content"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "deprecated": false
      }
    },
    "/trainModelVersion/{versionId}/trainComponentList": {
      "get": {
        "tags": [
          "trainModelAction"
        ],
        "summary": "获取模型及版本信息列表",
        "description": "去fate查询模型对应任务的dsl文件，然后获取组件信息,并封装组件类型 ",
        "operationId": "getTrainComponentList",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "versionId",
            "in": "path",
            "description": "模型版本id",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "模型及版本信息列表",
            "schema": {
              "type": "object"
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          }
        },
        "deprecated": false
      }
    },
    "/trainModelVersion/{versionId}/trainComponentModel": {
      "get": {
        "tags": [
          "trainModelAction"
        ],
        "summary": "获取训练任务算法组件参数",
        "description": "获取训练任务算法组件参数 ",
        "operationId": "getTrainComponentModel",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "componentName",
            "in": "query",
            "description": "当前组件名称",
            "required": false,
            "type": "string",
            "allowEmptyValue": false
          },
          {
            "name": "partyId",
            "in": "query",
            "description": "当前用户的部署id",
            "required": false,
            "type": "string",
            "allowEmptyValue": false
          },
          {
            "name": "role",
            "in": "query",
            "description": "当前用户的当前任务角色",
            "required": false,
            "type": "string",
            "allowEmptyValue": false
          },
          {
            "name": "versionId",
            "in": "path",
            "description": "模型版本id",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "训练任务算法组件参数",
            "schema": {
              "type": "object"
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          }
        },
        "deprecated": false
      }
    }
  },
  "definitions": {
    "JSONConfig": {
      "type": "object",
      "properties": {
        "dateFormat": {
          "type": "string"
        },
        "ignoreCase": {
          "type": "boolean"
        },
        "ignoreError": {
          "type": "boolean"
        },
        "ignoreNullValue": {
          "type": "boolean"
        },
        "ignoreTransient": {
          "type": "boolean"
        },
        "order": {
          "type": "boolean"
        }
      },
      "title": "JSONConfig"
    },
    "JSONObject": {
      "type": "object",
      "title": "JSONObject",
      "additionalProperties": {
        "type": "object"
      }
    },
    "Map«string,object»": {
      "type": "object",
      "title": "Map«string,object»",
      "additionalProperties": {
        "type": "object"
      }
    },
    "ModelComponentlInfo": {
      "type": "object",
      "properties": {
        "componentId": {
          "type": "string"
        },
        "componentName": {
          "type": "string"
        },
        "componentType": {
          "type": "string"
        }
      },
      "title": "ModelComponentlInfo",
      "description": "模型下组件信息对象"
    },
    "OperateResult": {
      "type": "object",
      "properties": {
        "effectCount": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "success": {
          "type": "boolean"
        }
      },
      "title": "OperateResult",
      "description": "操作结果"
    },
    "PaginationBean": {
      "type": "object",
      "properties": {
        "limit": {
          "type": "integer",
          "format": "int64",
          "description": "分页条数"
        },
        "offset": {
          "type": "integer",
          "format": "int64",
          "description": "分页偏移量"
        },
        "total": {
          "type": "integer",
          "format": "int64",
          "description": "总记录条数"
        }
      },
      "title": "PaginationBean",
      "description": "分页信息模型"
    },
    "ResponseWrap«JSONObject»": {
      "type": "object",
      "required": [
        "code"
      ],
      "properties": {
        "code": {
          "type": "string",
          "description": "请求结果code"
        },
        "data": {
          "type": "object",
          "description": "请求结果",
          "additionalProperties": {
            "type": "object"
          }
        },
        "detailMessage": {
          "type": "object",
          "description": "请求结果生成时间戳"
        },
        "message": {
          "type": "string",
          "description": "请求结果摘要信息"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "请求时间"
        }
      },
      "title": "ResponseWrap«JSONObject»",
      "description": "Rest请求响应返回模型"
    },
    "ResponseWrap«List«ModelComponentlInfo»»": {
      "type": "object",
      "required": [
        "code"
      ],
      "properties": {
        "code": {
          "type": "string",
          "description": "请求结果code"
        },
        "data": {
          "type": "array",
          "description": "请求结果",
          "items": {
            "$ref": "#/definitions/ModelComponentlInfo"
          }
        },
        "detailMessage": {
          "type": "object",
          "description": "请求结果生成时间戳"
        },
        "message": {
          "type": "string",
          "description": "请求结果摘要信息"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "请求时间"
        }
      },
      "title": "ResponseWrap«List«ModelComponentlInfo»»",
      "description": "Rest请求响应返回模型"
    },
    "ResponseWrap«List«TrainModelInfo»»": {
      "type": "object",
      "required": [
        "code"
      ],
      "properties": {
        "code": {
          "type": "string",
          "description": "请求结果code"
        },
        "data": {
          "type": "array",
          "description": "请求结果",
          "items": {
            "$ref": "#/definitions/TrainModelInfo"
          }
        },
        "detailMessage": {
          "type": "object",
          "description": "请求结果生成时间戳"
        },
        "message": {
          "type": "string",
          "description": "请求结果摘要信息"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "请求时间"
        }
      },
      "title": "ResponseWrap«List«TrainModelInfo»»",
      "description": "Rest请求响应返回模型"
    },
    "ResponseWrap«OperateResult»": {
      "type": "object",
      "required": [
        "code"
      ],
      "properties": {
        "code": {
          "type": "string",
          "description": "请求结果code"
        },
        "data": {
          "description": "请求结果",
          "$ref": "#/definitions/OperateResult"
        },
        "detailMessage": {
          "type": "object",
          "description": "请求结果生成时间戳"
        },
        "message": {
          "type": "string",
          "description": "请求结果摘要信息"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "请求时间"
        }
      },
      "title": "ResponseWrap«OperateResult»",
      "description": "Rest请求响应返回模型"
    },
    "ResponseWrap«TrainModelInfo»": {
      "type": "object",
      "required": [
        "code"
      ],
      "properties": {
        "code": {
          "type": "string",
          "description": "请求结果code"
        },
        "data": {
          "description": "请求结果",
          "$ref": "#/definitions/TrainModelInfo"
        },
        "detailMessage": {
          "type": "object",
          "description": "请求结果生成时间戳"
        },
        "message": {
          "type": "string",
          "description": "请求结果摘要信息"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "请求时间"
        }
      },
      "title": "ResponseWrap«TrainModelInfo»",
      "description": "Rest请求响应返回模型"
    },
    "ResultBean«List«TrainModelInfo»»": {
      "type": "object",
      "required": [
        "code"
      ],
      "properties": {
        "code": {
          "type": "string",
          "description": "处理结果code"
        },
        "data": {
          "type": "array",
          "description": "处理结果",
          "items": {
            "$ref": "#/definitions/TrainModelInfo"
          }
        },
        "errors": {
          "type": "array",
          "description": "处理错误信息",
          "items": {
            "$ref": "#/definitions/Map«string,object»"
          }
        },
        "message": {
          "type": "string",
          "description": "处理结果描述信息"
        },
        "pagination": {
          "description": "分页信息",
          "$ref": "#/definitions/PaginationBean"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "请求结果生成时间戳"
        }
      },
      "title": "ResultBean«List«TrainModelInfo»»",
      "description": "Rest请求响应返回模型"
    },
    "TrainModelInfo": {
      "type": "object",
      "properties": {
        "arbiterPartyId": {
          "type": "string"
        },
        "arbiterPartyName": {
          "type": "string"
        },
        "createAt": {
          "type": "string",
          "format": "date-time"
        },
        "createBy": {
          "type": "string"
        },
        "fateArbiterPartyId": {
          "type": "string"
        },
        "fateGuestPartyId": {
          "type": "string"
        },
        "fateHostPartyIds": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "guestPartyId": {
          "type": "string"
        },
        "guestPartyName": {
          "type": "string"
        },
        "hostInfo": {
          "type": "string"
        },
        "id": {
          "type": "string"
        },
        "modelId": {
          "type": "string"
        },
        "modelIsdelete": {
          "type": "string"
        },
        "modelName": {
          "type": "string"
        },
        "modelRole": {
          "type": "string"
        },
        "trainModelVersionInfos": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/TrainModelVersionInfo"
          }
        },
        "updateAt": {
          "type": "string",
          "format": "date-time"
        },
        "updateBy": {
          "type": "string"
        }
      },
      "title": "TrainModelInfo",
      "description": "模型及版本列表对象"
    },
    "TrainModelVersionInfo": {
      "type": "object",
      "properties": {
        "createAt": {
          "type": "string",
          "format": "date-time"
        },
        "createBy": {
          "type": "string"
        },
        "fateBoardComponentOutputUrl": {
          "type": "string"
        },
        "id": {
          "type": "string"
        },
        "modelParams": {
          "type": "string"
        },
        "parentId": {
          "type": "string"
        },
        "updateAt": {
          "type": "string",
          "format": "date-time"
        },
        "updateBy": {
          "type": "string"
        },
        "versionCode": {
          "type": "string"
        },
        "versionDesc": {
          "type": "string"
        },
        "versionId": {
          "type": "string"
        },
        "versionIsdelete": {
          "type": "string"
        },
        "watched": {
          "type": "boolean"
        }
      },
      "title": "TrainModelVersionInfo",
      "description": "模型版本信息对象"
    },
    "TrainModelWithTaskRequest": {
      "type": "object",
      "required": [
        "id",
        "modelName",
        "modelRole",
        "versionCode",
        "versionId"
      ],
      "properties": {
        "id": {
          "type": "string",
          "description": "id"
        },
        "modelName": {
          "type": "string",
          "description": "模型名称"
        },
        "modelRole": {
          "type": "string",
          "description": "modelRole"
        },
        "parentId": {
          "type": "string",
          "description": "父级id，下拉框时必填"
        },
        "versionCode": {
          "type": "string",
          "description": "模型版本号"
        },
        "versionDesc": {
          "type": "string",
          "description": "模型版本描述"
        },
        "versionId": {
          "type": "string",
          "description": "版本ID"
        }
      },
      "title": "TrainModelWithTaskRequest",
      "description": "模型对象"
    },
    "UpdateTrainModelWithTaskRequest": {
      "type": "object",
      "required": [
        "modelName"
      ],
      "properties": {
        "modelName": {
          "type": "string",
          "description": "模型名称"
        }
      },
      "title": "UpdateTrainModelWithTaskRequest",
      "description": "模型对象"
    }
  }
}